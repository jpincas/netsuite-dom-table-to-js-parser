<html>

<body>

    <h1>Example Checkout</h1>

    <table id="carttable" width="100%" border="0" cellspacing="0" cellpadding="0">
        <tbody>
            <tr id="carttableheader">
                <td class="smalltext" width="8.34%" align="LEFT">
                    <div class="listheadernosort">Item Name/Code</div>
                </td>
                <td class="smalltext" width="5.42%" align="LEFT">
                    <div class="listheadernosort">Qty</div>
                </td>
                <td class="smalltext" width="29.79%" align="LEFT">
                    <div class="listheadernosort">Description</div>
                </td>
                <td class="smalltext" width="9.93%" align="RIGHT">
                    <div class="listheadernosort">Rate</div>
                </td>
                <td class="smalltext" width="13.34%" align="RIGHT">
                    <div class="listheadernosort">Amount</div>
                </td>
                <td class="smalltext" width="9.93%" align="RIGHT">
                    <div class="listheadernosort">Tax</div>
                </td>
                <td class="smalltext" width="8.34%" align="RIGHT">
                    <div class="listheadernosort">Gross Amount</div>
                </td>
                <td class="smalltext" width="14.91%" align="LEFT">
                    <div class="listheadernosort">Options</div>
                </td>
            </tr>
            <tr class="uir-list-row-tr uir-list-row-even" id="carttablerow0">
                <td valign="top" class="texttable carttablecellproductname uir-list-row-cell" style=""><a href="http://www.thetapaslunchcompany.co.uk/s.nl/it.A/id.981/.f?ck=_w0ZQxglAoFq7SKw&amp;vid=Ox7UfhglAoNq7ewa&amp;cktime=140571&amp;cart=117&amp;promocode=&amp;promocodeaction=overwrite&amp;shipmeth=1432&amp;gc=clear&amp;chrole=14&amp;ext=F"
                        target="_self" class="dottedlink">GAR3801</a></td>
                <td valign="top" class="listtexthl carttablecellqty uir-list-row-cell" style="">5</td>
                <td valign="top" class="texttable carttablecellproductdesc uir-list-row-cell" style="">Enamelled Steel Paella Pan 38 cm</td>
                <td valign="top" class="texttablert carttablecellrate uir-list-row-cell" style="">£10.08</td>
                <td valign="top" class="texttablert carttablecellamount uir-list-row-cell" style="">£50.40</td>
                <td valign="top" class="texttablert carttablecelltax uir-list-row-cell" style="">£10.08</td>
                <td valign="top" class="texttablert carttablecellgrossamount uir-list-row-cell" style="">£60.48</td>
                <td valign="top" class="texttable carttablecelloptions uir-list-row-cell" style="">&nbsp;</td>
            </tr>


            <tr class="uir-list-row-tr uir-list-row-odd" id="carttablerow1">
                <td valign="top" class="texttable carttablecellproductname uir-list-row-cell" style=""><a href="http://www.thetapaslunchcompany.co.uk/s.nl/it.A/id.196/.f?ck=_w0ZQxglAoFq7SKw&amp;vid=Ox7UfhglAoNq7ewa&amp;cktime=140571&amp;cart=117&amp;promocode=&amp;promocodeaction=overwrite&amp;shipmeth=1432&amp;gc=clear&amp;chrole=14&amp;ext=F"
                        target="_self" class="dottedlink">NUD5575</a></td>
                <td valign="top" class="listtexthl carttablecellqty uir-list-row-cell" style="">2</td>
                <td valign="top" class="texttable carttablecellproductdesc uir-list-row-cell" style="">Piquillo Peppers Salad, Easy Open 390 g. Tin.</td>
                <td valign="top" class="texttablert carttablecellrate uir-list-row-cell" style="">£1.80</td>
                <td valign="top" class="texttablert carttablecellamount uir-list-row-cell" style="">£3.60</td>
                <td valign="top" class="texttablert carttablecelltax uir-list-row-cell" style="">£0.00</td>
                <td valign="top" class="texttablert carttablecellgrossamount uir-list-row-cell" style="">£3.60</td>
                <td valign="top" class="texttable carttablecelloptions uir-list-row-cell" style="">&nbsp;</td>
            </tr>


            <tr class="uir-list-row-tr uir-list-row-even" id="carttablerow2">
                <td valign="top" class="texttable carttablecellproductname uir-list-row-cell" style=""><a href="http://www.thetapaslunchcompany.co.uk/s.nl/it.A/id.2462/.f?ck=_w0ZQxglAoFq7SKw&amp;vid=Ox7UfhglAoNq7ewa&amp;cktime=140571&amp;cart=117&amp;promocode=&amp;promocodeaction=overwrite&amp;shipmeth=1432&amp;gc=clear&amp;chrole=14&amp;ext=F"
                        target="_self" class="dottedlink">JOS4502</a></td>
                <td valign="top" class="listtexthl carttablecellqty uir-list-row-cell" style="">6</td>
                <td valign="top" class="texttable carttablecellproductdesc uir-list-row-cell" style="">Quesada Pasiega (Cantabrian Butter Cake) 450 g</td>
                <td valign="top" class="texttablert carttablecellrate uir-list-row-cell" style="">£3.56</td>
                <td valign="top" class="texttablert carttablecellamount uir-list-row-cell" style="">£21.36</td>
                <td valign="top" class="texttablert carttablecelltax uir-list-row-cell" style="">£0.00</td>
                <td valign="top" class="texttablert carttablecellgrossamount uir-list-row-cell" style="">£21.36</td>
                <td valign="top" class="texttable carttablecelloptions uir-list-row-cell" style="">&nbsp;</td>
            </tr>



            <tr id="ordersummary_itemtotal">
                <td class="texttablert carttablecelllabel" colspan="4">Item Total</td>
                <td class="texttablert carttablecellamount">£75.36</td>
                <td class="texttable">&nbsp;</td>
                <td class="texttable">&nbsp;</td>
                <td class="texttable carttablecelloptions">&nbsp;</td>
            </tr>
            <tr id="ordersummary_shipping">
                <td class="texttablert carttablecelllabel" colspan="4">Shipping &amp; Handling</td>
                <td class="texttablert carttablecellamount">£10.75</td>
                <td class="texttable">&nbsp;</td>
                <td class="texttable">&nbsp;</td>
                <td class="texttable carttablecelloptions">&nbsp;</td>
            </tr>
            <tr id="ordersummary_tax">
                <td class="texttablert carttablecelllabel" colspan="4">VAT</td>
                <td class="texttablert carttablecellamount">£10.08</td>
                <td class="texttable">&nbsp;</td>
                <td class="texttable">&nbsp;</td>
                <td class="texttable carttablecelloptions">&nbsp;</td>
            </tr>
            <tr id="ordersummary_total">
                <td class="texttablert carttablecelllabel" colspan="4"><b>Total</b></td>
                <td class="texttablert carttablecellamount"><b>£96.19</b></td>
                <td class="texttable">&nbsp;</td>
                <td class="texttable">&nbsp;</td>
                <td class="texttable carttablecelloptions">&nbsp;</td>

            </tr>
        </tbody>
    </table>

    <script src="table-parser.js"></script>
    <script>

//Google analytics override for testing.

function ga(action, p1, p2){
	console.log("Google Analytics Action Emitted: ", p1, p2);
}

var result = parseTable('checkout');

for (i=0; i < result.lines.length; i++){
	ga('ec:addProduct', result.lines[i]);
}

ga('ec:setAction', 'checkout', {
    'step': 2       // A value of 1 indicates this action is first checkout step.
});


</script>


</body>

</html>