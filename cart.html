<html>

<body>

	<h1>Cart Example</h1>

	<table id="carttable" width="100%" border="0" cellspacing="0" cellpadding="0">
		<tbody>
			<tr id="carttableheader">
				<td class="smalltext" width="7.7%" align="LEFT">
					<div class="listheadernosort">Item Name/Code</div>
				</td>
				<td class="smalltext" width="5.0%" align="LEFT">
					<div class="listheadernosort">Qty</div>
				</td>
				<td class="smalltext" width="27.5%" align="LEFT">
					<div class="listheadernosort">Description</div>
				</td>
				<td class="smalltext" width="9.17%" align="RIGHT">
					<div class="listheadernosort">Rate</div>
				</td>
				<td class="smalltext" width="12.31%" align="RIGHT">
					<div class="listheadernosort">Amount</div>
				</td>
				<td class="smalltext" width="9.17%" align="RIGHT">
					<div class="listheadernosort">Tax</div>
				</td>
				<td class="smalltext" width="7.7%" align="RIGHT">
					<div class="listheadernosort">Gross Amount</div>
				</td>
				<td class="smalltext" width="7.69%" align="CENTER">
					<div class="listheadernosort">Remove</div>
				</td>
				<td class="smalltext" width="13.76%" align="LEFT">
					<div class="listheadernosort">Options</div>
				</td>
			</tr>
			<tr class="uir-list-row-tr uir-list-row-even" id="carttablerow0">
				<td valign="top" class="texttable carttablecellproductname uir-list-row-cell" style=""><a href="/s.nl/c.1041008/n.1/it.A/id.981/.f?ext=F" target="_self" class="dottedlink">GAR3801</a></td>
				<td valign="top" class="texttable carttablecellqty uir-list-row-cell" style=""><input class="input" type="text" size="6" maxlength="6" value="5" name="item981set369853" id="item981set369853">
				</td>
				<td valign="top" class="texttable carttablecellproductdesc uir-list-row-cell" style="">Enamelled Steel Paella Pan 38 cm</td>
				<td valign="top" class="texttablert carttablecellrate uir-list-row-cell" style="">£10.08</td>
				<td valign="top" class="texttablert carttablecellamount uir-list-row-cell" style="">£50.40</td>
				<td valign="top" class="texttablert carttablecelltax uir-list-row-cell" style="">£10.08</td>
				<td valign="top" class="texttablert carttablecellgrossamount uir-list-row-cell" style="">£60.48</td>
				<td valign="top" class="texttablectr carttablecellremove uir-list-row-cell" style="">
					<a id="remove0" href="#"><img src="btn_removeFromCart.gif" width="13" height="13" style="border:0px" alt="Click to remove item" onclick="document.forms['cart'].elements['item981set369853'].value='0'; document.forms['cart'].submit()"></a>
				</td>
				<td valign="top" class="texttable carttablecelloptions uir-list-row-cell" style="">&nbsp;</td>
			</tr>
			<tr class="uir-list-row-tr uir-list-row-odd" id="carttablerow1">
				<td valign="top" class="texttable carttablecellproductname uir-list-row-cell" style=""><a href="/s.nl/c.1041008/n.1/it.A/id.196/.f?ext=F" target="_self" class="dottedlink">NUD5575</a></td>
				<td valign="top" class="texttable carttablecellqty uir-list-row-cell" style=""><input class="input" type="text" size="6" maxlength="6" value="2" name="item196set369852" id="item196set369852">
				</td>
				<td valign="top" class="texttable carttablecellproductdesc uir-list-row-cell" style="">Piquillo Peppers Salad, Easy Open 390 g. Tin.</td>
				<td valign="top" class="texttablert carttablecellrate uir-list-row-cell" style="">£1.80</td>
				<td valign="top" class="texttablert carttablecellamount uir-list-row-cell" style="">£3.60</td>
				<td valign="top" class="texttablert carttablecelltax uir-list-row-cell" style="">£0.00</td>
				<td valign="top" class="texttablert carttablecellgrossamount uir-list-row-cell" style="">£3.60</td>
				<td valign="top" class="texttablectr carttablecellremove uir-list-row-cell" style="">
					<a id="remove1" href="#"><img src="btn_removeFromCart.gif" width="13" height="13" style="border:0px" alt="Click to remove item" onclick="document.forms['cart'].elements['item196set369852'].value='0'; document.forms['cart'].submit()"></a>
				</td>
				<td valign="top" class="texttable carttablecelloptions uir-list-row-cell" style="">&nbsp;</td>
			</tr>
			<tr class="uir-list-row-tr uir-list-row-even" id="carttablerow2">
				<td valign="top" class="texttable carttablecellproductname uir-list-row-cell" style=""><a href="/s.nl/c.1041008/n.1/it.A/id.2462/.f?ext=F" target="_self" class="dottedlink">JOS4502</a></td>
				<td valign="top" class="texttable carttablecellqty uir-list-row-cell" style=""><input class="input" type="text" size="6" maxlength="6" value="6" name="item2462set369851" id="item2462set369851">
				</td>
				<td valign="top" class="texttable carttablecellproductdesc uir-list-row-cell" style="">Quesada Pasiega (Cantabrian Butter Cake) 450 g</td>
				<td valign="top" class="texttablert carttablecellrate uir-list-row-cell" style="">£3.56</td>
				<td valign="top" class="texttablert carttablecellamount uir-list-row-cell" style="">£21.36</td>
				<td valign="top" class="texttablert carttablecelltax uir-list-row-cell" style="">£0.00</td>
				<td valign="top" class="texttablert carttablecellgrossamount uir-list-row-cell" style="">£21.36</td>
				<td valign="top" class="texttablectr carttablecellremove uir-list-row-cell" style="">
					<a id="remove2" href="#"><img src="btn_removeFromCart.gif" width="13" height="13" style="border:0px" alt="Click to remove item" onclick="document.forms['cart'].elements['item2462set369851'].value='0'; document.forms['cart'].submit()"></a>
				</td>
				<td valign="top" class="texttable carttablecelloptions uir-list-row-cell" style="">&nbsp;</td>
			</tr>
			<tr id="carttablerowtotal">
				<td class="texttable">&nbsp;</td>
				<td class="texttable">&nbsp;</td>
				<td class="texttable">&nbsp;</td>
				<td class="texttablert carttablecelllabel"><b>
Total
</b></td>
				<td class="texttablert carttablecellamount">£75.36</td>
				<td class="texttablert carttablecelltax"><b>£10.08</b></td>
				<td class="texttablert carttablecellgrossamount"><b>£85.44</b></td>
				<td class="texttable carttablecellremove">&nbsp;</td>
				<td class="texttable carttablecelloptions">&nbsp;</td>
			</tr>
		</tbody>
	</table>

	<script src="table-parser.js"></script>
	<script>

//Google analytics override for testing.

function ga(action, p1, p2){
	console.log("Google Analytics Action Emitted: ", p1, p2);
}

var result = parseTable('cart');

for (i=0; i < result.lines.length; i++){
	ga('ec:addProduct', result.lines[i]);
}

ga('ec:setAction', 'checkout', {
    'step': 1       // A value of 1 indicates this action is first checkout step.
});


</script>


</body>

</html>